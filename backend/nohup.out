INFO:     Will watch for changes in these directories: ['/home/MuhammedBesir/trading-botu/backend']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [131892] using WatchFiles
[32m2026-01-19 22:04:29[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:04:29[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:04:29[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:04:29[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:04:29[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:04:29[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:04:29[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:04:29[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:04:29[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36m__init__[0m:[36m84[0m - [1mStockScreener initialized - Adaptive ATR-Based Strategy v3[0m
[32m2026-01-19 22:04:29[0m | [1mINFO    [0m | [36mapp.services.strategy_tester[0m:[36m__init__[0m:[36m22[0m - [1mStrategyTester initialized[0m
[32m2026-01-19 22:04:29[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:04:29[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:04:29[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:04:29[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:04:29[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36m__init__[0m:[36m84[0m - [1mStockScreener initialized - Adaptive ATR-Based Strategy v3[0m
[32m2026-01-19 22:04:29[0m | [1mINFO    [0m | [36mapp.services.alert_manager[0m:[36m__init__[0m:[36m18[0m - [1mAlertManager initialized[0m
[32m2026-01-19 22:04:29[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:04:29[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:04:29[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36m__init__[0m:[36m84[0m - [1mStockScreener initialized - Adaptive ATR-Based Strategy v3[0m
[32m2026-01-19 22:04:29[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:04:30[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36m__init__[0m:[36m92[0m - [1mAdvancedWebSocketManager initialized[0m
[32m2026-01-19 22:04:30[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:04:30[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:04:30[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:04:30[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
INFO:     Started server process [131900]
INFO:     Waiting for application startup.
[32m2026-01-19 22:04:30[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m88[0m - [1m==================================================[0m
[32m2026-01-19 22:04:30[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m89[0m - [1mTrading Bot API Starting...[0m
[32m2026-01-19 22:04:30[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m90[0m - [1mEnvironment: INFO[0m
[32m2026-01-19 22:04:30[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m91[0m - [1mCORS Origins: ['http://localhost:5173', 'http://localhost:3000', 'http://localhost'][0m
[32m2026-01-19 22:04:30[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m92[0m - [1m==================================================[0m
[32m2026-01-19 22:04:30[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m97[0m - [1mDatabase tables initialized[0m
[32m2026-01-19 22:04:30[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m105[0m - [1mIPO Auto-Update Scheduler started[0m
INFO:     Application startup complete.
INFO:     127.0.0.1:42988 - "WebSocket /ws/stream?channels=price%2Csignal&tickers=TRALT.IS" [accepted]
[32m2026-01-19 22:04:32[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mconnect[0m:[36m143[0m - [1mWebSocket connected: channels=['price', 'signal'], tickers=['TRALT.IS'], user=None[0m
INFO:     connection open
[32m2026-01-19 22:04:32[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TRALT.IS (interval=1m, period=1d)[0m
[32m2026-01-19 22:04:33[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 481 data points for TRALT.IS[0m
[32m2026-01-19 22:04:35[0m | [1mINFO    [0m | [36mapp.main[0m:[36mipo_update_callback[0m:[36m76[0m - [1mIPO Scheduler: Running automatic update...[0m
[32m2026-01-19 22:04:35[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:04:36[0m | [1mINFO    [0m | [36mapp.api.routes.screener[0m:[36mget_top_movers[0m:[36m121[0m - [1mAPI request: Top movers (top 5)[0m
[32m2026-01-19 22:04:36[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36mget_top_movers[0m:[36m961[0m - [1mGetting top movers (top 5)[0m
[32m2026-01-19 22:04:36[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for AKBNK.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:36[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for AKBNK.IS[0m
[32m2026-01-19 22:04:36[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for AKSEN.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:36[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for AKSEN.IS[0m
[32m2026-01-19 22:04:36[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ARCLK.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:36[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for ARCLK.IS[0m
[32m2026-01-19 22:04:36[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ASELS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:36[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for ASELS.IS[0m
[32m2026-01-19 22:04:36[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for BIMAS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:37[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for BIMAS.IS[0m
[32m2026-01-19 22:04:37[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for EKGYO.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:37[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for EKGYO.IS[0m
[32m2026-01-19 22:04:37[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ENKAI.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:37[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for ENKAI.IS[0m
[32m2026-01-19 22:04:37[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for EREGL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:37[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for EREGL.IS[0m
[32m2026-01-19 22:04:37[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for FROTO.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for FROTO.IS[0m
[32m2026-01-19 22:04:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for GARAN.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for GARAN.IS[0m
[32m2026-01-19 22:04:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for GUBRF.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for GUBRF.IS[0m
[32m2026-01-19 22:04:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for HEKTS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for HEKTS.IS[0m
[32m2026-01-19 22:04:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ISCTR.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for ISCTR.IS[0m
[32m2026-01-19 22:04:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for KCHOL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:39[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for KCHOL.IS[0m
[32m2026-01-19 22:04:39[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for KRDMD.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:39[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for KRDMD.IS[0m
[32m2026-01-19 22:04:39[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ODAS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:39[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for ODAS.IS[0m
[32m2026-01-19 22:04:39[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for PETKM.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:39[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for PETKM.IS[0m
[32m2026-01-19 22:04:39[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for PGSUS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:39[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for PGSUS.IS[0m
[32m2026-01-19 22:04:39[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for SAHOL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:39[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for SAHOL.IS[0m
[32m2026-01-19 22:04:39[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for SASA.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:39[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for SASA.IS[0m
[32m2026-01-19 22:04:39[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for SISE.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:39[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for SISE.IS[0m
[32m2026-01-19 22:04:39[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TAVHL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:40[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TAVHL.IS[0m
[32m2026-01-19 22:04:40[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TCELL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:40[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TCELL.IS[0m
[32m2026-01-19 22:04:40[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for THYAO.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:40[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for THYAO.IS[0m
[32m2026-01-19 22:04:40[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TKFEN.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:40[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TKFEN.IS[0m
[32m2026-01-19 22:04:40[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TOASO.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:40[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TOASO.IS[0m
[32m2026-01-19 22:04:40[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TRALT.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:40[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TRALT.IS[0m
[32m2026-01-19 22:04:40[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TUPRS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:40[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TUPRS.IS[0m
[32m2026-01-19 22:04:40[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for YKBNK.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:04:40[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for YKBNK.IS[0m
INFO:     127.0.0.1:43844 - "GET /api/screener/top-movers?top_n=5 HTTP/1.1" 200 OK
[32m2026-01-19 22:04:40[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
INFO:     127.0.0.1:43852 - "GET /api/market/forex HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 336, in jsonable_encoder
    data = dict(obj)
TypeError: 'numpy.bool' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 341, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/MuhammedBesir/trading-botu/backend/app/middleware/rate_limiter.py", line 203, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 449, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 302, in serialize_response
    return jsonable_encoder(response_content)
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 344, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'numpy.bool' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
[32m2026-01-19 22:04:42[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:04:44[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
HTTP 404 for https://bigpara.hurriyet.com.tr/borsa/halka-arz/
[32m2026-01-19 22:04:47[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
HTTP 403 for https://tr.investing.com/equities/turkiye
[32m2026-01-19 22:04:47[0m | [1mINFO    [0m | [36mapp.main[0m:[36mipo_update_callback[0m:[36m78[0m - [1mIPO Scheduler: Update completed - {'success': True, 'sources_tried': ['cache'], 'ipos_found': 10, 'ipos_updated': 10, 'errors': ['Web kaynaklarÄ± eriÅŸilemedi, mevcut 10 IPO verisi kullanÄ±lÄ±yor'], 'news_found': 0, 'web_ipos_found': 0, 'cache_ipos': 10, 'manual_ipos': 0}[0m
[32m2026-01-19 22:04:49[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:04:51[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
INFO:     127.0.0.1:60652 - "GET /api/market/all HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 336, in jsonable_encoder
    data = dict(obj)
TypeError: 'numpy.bool' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 341, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/MuhammedBesir/trading-botu/backend/app/middleware/rate_limiter.py", line 203, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 449, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 302, in serialize_response
    return jsonable_encoder(response_content)
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 344, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'numpy.bool' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
[32m2026-01-19 22:04:53[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:04:55[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:04:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mdisconnect[0m:[36m182[0m - [1mWebSocket disconnected: user=None[0m
INFO:     connection closed
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.api.routes.screener[0m:[36mget_top_movers[0m:[36m121[0m - [1mAPI request: Top movers (top 5)[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36mget_top_movers[0m:[36m961[0m - [1mGetting top movers (top 5)[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for AKBNK.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for AKSEN.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ARCLK.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ASELS.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for BIMAS.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for EKGYO.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ENKAI.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for EREGL.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for FROTO.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for GARAN.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for GUBRF.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for HEKTS.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ISCTR.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for KCHOL.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for KRDMD.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ODAS.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for PETKM.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for PGSUS.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SAHOL.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SASA.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SISE.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TAVHL.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TCELL.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for THYAO.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TKFEN.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TOASO.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TUPRS.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for YKBNK.IS[0m
INFO:     127.0.0.1:52968 - "GET /api/screener/top-movers?top_n=5 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52974 - "WebSocket /ws/stream?channels=price%2Csignal&tickers=TRALT.IS" [accepted]
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mconnect[0m:[36m143[0m - [1mWebSocket connected: channels=['price', 'signal'], tickers=['TRALT.IS'], user=None[0m
INFO:     connection open
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.api.routes.screener[0m:[36mget_top_movers[0m:[36m121[0m - [1mAPI request: Top movers (top 5)[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36mget_top_movers[0m:[36m961[0m - [1mGetting top movers (top 5)[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for AKBNK.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for AKSEN.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ARCLK.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ASELS.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for BIMAS.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for EKGYO.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ENKAI.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for EREGL.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for FROTO.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for GARAN.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for GUBRF.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for HEKTS.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ISCTR.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for KCHOL.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for KRDMD.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ODAS.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for PETKM.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for PGSUS.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SAHOL.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SASA.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SISE.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TAVHL.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TCELL.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for THYAO.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TKFEN.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TOASO.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TUPRS.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for YKBNK.IS[0m
INFO:     127.0.0.1:52968 - "GET /api/screener/top-movers?top_n=5 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52980 - "WebSocket /ws/stream?channels=price%2Csignal&tickers=TRALT.IS" [accepted]
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mconnect[0m:[36m143[0m - [1mWebSocket connected: channels=['price', 'signal'], tickers=['TRALT.IS'], user=None[0m
INFO:     connection open
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:04:58[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_stock_data[0m:[36m35[0m - [1mAPI request: Get data for TRALT.IS[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mvalidate_ticker[0m:[36m77[0m - [1mValidated ticker: TRALT.IS[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TRALT.IS (interval=1h, period=1mo)[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 180 data points for TRALT.IS[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_stock_info[0m:[36m141[0m - [1mAPI request: Get info for TRALT.IS[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mget_stock_info[0m:[36m275[0m - [1mRetrieved info for TRALT.IS[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_indicators[0m:[36m92[0m - [1mAPI request: Get indicators for TRALT.IS[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.api.routes.signals[0m:[36mget_signals[0m:[36m252[0m - [1mAPI request: Generate signal for TRALT.IS with moderate strategy[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36m__init__[0m:[36m112[0m - [1mSignalGenerator initialized with moderate strategy + V2 Enhanced (Partial Exit)[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m906[0m - [1mGenerating signal with moderate strategy[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m941[0m - [1mðŸ“ˆ BUY signal generated - Uptrend confirmed (score: 100)[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m972[0m - [1mGenerated signal: BUY (strength: 65.8)[0m
INFO:     127.0.0.1:52986 - "GET /api/stocks/TRALT.IS/data?interval=1h&period=1mo HTTP/1.1" 200 OK
INFO:     127.0.0.1:53002 - "GET /api/stocks/TRALT.IS/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:53006 - "GET /api/stocks/TRALT.IS/indicators?interval=1h&period=1mo HTTP/1.1" 200 OK
INFO:     127.0.0.1:53014 - "GET /api/signals/TRALT.IS?strategy=moderate&interval=1h&period=1mo HTTP/1.1" 200 OK
INFO:     127.0.0.1:52968 - "OPTIONS /api/auth/verify HTTP/1.1" 200 OK
INFO:     127.0.0.1:52986 - "OPTIONS /api/auth/verify HTTP/1.1" 200 OK
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_stock_data[0m:[36m35[0m - [1mAPI request: Get data for TRALT.IS[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mvalidate_ticker[0m:[36m77[0m - [1mValidated ticker: TRALT.IS[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
INFO:     127.0.0.1:53002 - "GET /api/stocks/TRALT.IS/data?interval=1h&period=1mo HTTP/1.1" 200 OK
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_stock_info[0m:[36m141[0m - [1mAPI request: Get info for TRALT.IS[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mget_stock_info[0m:[36m275[0m - [1mRetrieved info for TRALT.IS[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_indicators[0m:[36m92[0m - [1mAPI request: Get indicators for TRALT.IS[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.api.routes.signals[0m:[36mget_signals[0m:[36m252[0m - [1mAPI request: Generate signal for TRALT.IS with moderate strategy[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36m__init__[0m:[36m112[0m - [1mSignalGenerator initialized with moderate strategy + V2 Enhanced (Partial Exit)[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m906[0m - [1mGenerating signal with moderate strategy[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m941[0m - [1mðŸ“ˆ BUY signal generated - Uptrend confirmed (score: 100)[0m
[32m2026-01-19 22:04:59[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m972[0m - [1mGenerated signal: BUY (strength: 65.8)[0m
INFO:     127.0.0.1:53006 - "GET /api/stocks/TRALT.IS/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:53014 - "GET /api/stocks/TRALT.IS/indicators?interval=1h&period=1mo HTTP/1.1" 200 OK
INFO:     127.0.0.1:53028 - "GET /api/signals/TRALT.IS?strategy=moderate&interval=1h&period=1mo HTTP/1.1" 200 OK
INFO:     127.0.0.1:52966 - "GET /api/market/all HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 336, in jsonable_encoder
    data = dict(obj)
TypeError: 'numpy.bool' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 341, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/MuhammedBesir/trading-botu/backend/app/middleware/rate_limiter.py", line 203, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 449, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 302, in serialize_response
    return jsonable_encoder(response_content)
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 344, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'numpy.bool' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:53044 - "GET /api/auth/verify HTTP/1.1" 200 OK
INFO:     127.0.0.1:53028 - "GET /api/auth/verify HTTP/1.1" 200 OK
[32m2026-01-19 22:05:00[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:00[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
INFO:     127.0.0.1:53002 - "GET /api/market/all HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 336, in jsonable_encoder
    data = dict(obj)
TypeError: 'numpy.bool' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 341, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/MuhammedBesir/trading-botu/backend/app/middleware/rate_limiter.py", line 203, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 449, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 302, in serialize_response
    return jsonable_encoder(response_content)
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 344, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'numpy.bool' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
[32m2026-01-19 22:05:02[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:02[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
INFO:     127.0.0.1:53028 - "GET /api/market/all HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 336, in jsonable_encoder
    data = dict(obj)
TypeError: 'numpy.bool' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 341, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/MuhammedBesir/trading-botu/backend/app/middleware/rate_limiter.py", line 203, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 449, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 302, in serialize_response
    return jsonable_encoder(response_content)
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 344, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'numpy.bool' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
[32m2026-01-19 22:05:04[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:04[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:06[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:06[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mdisconnect[0m:[36m182[0m - [1mWebSocket disconnected: user=None[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mdisconnect[0m:[36m182[0m - [1mWebSocket disconnected: user=None[0m
INFO:     connection closed
INFO:     connection closed
Error fetching XU030.IS: Failed to perform, curl: (6) Could not resolve host: query2.finance.yahoo.com. See https://curl.se/libcurl/c/libcurl-errors.html first for more details.
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.api.routes.screener[0m:[36mget_top_movers[0m:[36m121[0m - [1mAPI request: Top movers (top 5)[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36mget_top_movers[0m:[36m961[0m - [1mGetting top movers (top 5)[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for AKBNK.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for AKSEN.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ARCLK.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ASELS.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for BIMAS.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for EKGYO.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ENKAI.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for EREGL.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for FROTO.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for GARAN.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for GUBRF.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for HEKTS.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ISCTR.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for KCHOL.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for KRDMD.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ODAS.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for PETKM.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for PGSUS.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SAHOL.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SASA.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SISE.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TAVHL.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TCELL.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for THYAO.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TKFEN.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TOASO.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TUPRS.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for YKBNK.IS[0m
INFO:     127.0.0.1:52670 - "GET /api/screener/top-movers?top_n=5 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52672 - "WebSocket /ws/stream?channels=price%2Csignal&tickers=TRALT.IS" [accepted]
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mconnect[0m:[36m143[0m - [1mWebSocket connected: channels=['price', 'signal'], tickers=['TRALT.IS'], user=None[0m
INFO:     connection open
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.api.routes.screener[0m:[36mget_top_movers[0m:[36m121[0m - [1mAPI request: Top movers (top 5)[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36mget_top_movers[0m:[36m961[0m - [1mGetting top movers (top 5)[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for AKBNK.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for AKSEN.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ARCLK.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ASELS.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for BIMAS.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for EKGYO.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ENKAI.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for EREGL.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for FROTO.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for GARAN.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for GUBRF.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for HEKTS.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ISCTR.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for KCHOL.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for KRDMD.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ODAS.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for PETKM.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for PGSUS.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SAHOL.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SASA.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SISE.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TAVHL.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TCELL.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for THYAO.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TKFEN.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TOASO.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TUPRS.IS[0m
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for YKBNK.IS[0m
INFO:     127.0.0.1:52688 - "GET /api/screener/top-movers?top_n=5 HTTP/1.1" 200 OK
[32m2026-01-19 22:05:08[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_stock_data[0m:[36m35[0m - [1mAPI request: Get data for TRALT.IS[0m
[32m2026-01-19 22:05:09[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mvalidate_ticker[0m:[36m77[0m - [1mValidated ticker: TRALT.IS[0m
[32m2026-01-19 22:05:09[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
INFO:     127.0.0.1:52690 - "WebSocket /ws/stream?channels=price%2Csignal&tickers=TRALT.IS" [accepted]
[32m2026-01-19 22:05:09[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mconnect[0m:[36m143[0m - [1mWebSocket connected: channels=['price', 'signal'], tickers=['TRALT.IS'], user=None[0m
INFO:     127.0.0.1:52670 - "GET /api/stocks/TRALT.IS/data?interval=1h&period=1mo HTTP/1.1" 200 OK
INFO:     connection open
[32m2026-01-19 22:05:09[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_stock_info[0m:[36m141[0m - [1mAPI request: Get info for TRALT.IS[0m
[32m2026-01-19 22:05:09[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mget_stock_info[0m:[36m275[0m - [1mRetrieved info for TRALT.IS[0m
[32m2026-01-19 22:05:09[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_indicators[0m:[36m92[0m - [1mAPI request: Get indicators for TRALT.IS[0m
[32m2026-01-19 22:05:09[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:10[0m | [1mINFO    [0m | [36mapp.api.routes.signals[0m:[36mget_signals[0m:[36m252[0m - [1mAPI request: Generate signal for TRALT.IS with moderate strategy[0m
[32m2026-01-19 22:05:10[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:10[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36m__init__[0m:[36m112[0m - [1mSignalGenerator initialized with moderate strategy + V2 Enhanced (Partial Exit)[0m
[32m2026-01-19 22:05:10[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m906[0m - [1mGenerating signal with moderate strategy[0m
[32m2026-01-19 22:05:10[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m941[0m - [1mðŸ“ˆ BUY signal generated - Uptrend confirmed (score: 100)[0m
[32m2026-01-19 22:05:10[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m972[0m - [1mGenerated signal: BUY (strength: 65.8)[0m
[32m2026-01-19 22:05:10[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
INFO:     127.0.0.1:52706 - "GET /api/stocks/TRALT.IS/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:52714 - "GET /api/stocks/TRALT.IS/indicators?interval=1h&period=1mo HTTP/1.1" 200 OK
INFO:     127.0.0.1:52722 - "GET /api/signals/TRALT.IS?strategy=moderate&interval=1h&period=1mo HTTP/1.1" 200 OK
[32m2026-01-19 22:05:10[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_stock_data[0m:[36m35[0m - [1mAPI request: Get data for TRALT.IS[0m
[32m2026-01-19 22:05:10[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mvalidate_ticker[0m:[36m77[0m - [1mValidated ticker: TRALT.IS[0m
[32m2026-01-19 22:05:10[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
INFO:     127.0.0.1:52670 - "GET /api/stocks/TRALT.IS/data?interval=1h&period=1mo HTTP/1.1" 200 OK
INFO:     127.0.0.1:52688 - "GET /api/auth/verify HTTP/1.1" 200 OK
[32m2026-01-19 22:05:10[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_stock_info[0m:[36m141[0m - [1mAPI request: Get info for TRALT.IS[0m
[32m2026-01-19 22:05:10[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mget_stock_info[0m:[36m275[0m - [1mRetrieved info for TRALT.IS[0m
[32m2026-01-19 22:05:10[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_indicators[0m:[36m92[0m - [1mAPI request: Get indicators for TRALT.IS[0m
[32m2026-01-19 22:05:10[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:10[0m | [1mINFO    [0m | [36mapp.api.routes.signals[0m:[36mget_signals[0m:[36m252[0m - [1mAPI request: Generate signal for TRALT.IS with moderate strategy[0m
[32m2026-01-19 22:05:10[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:10[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36m__init__[0m:[36m112[0m - [1mSignalGenerator initialized with moderate strategy + V2 Enhanced (Partial Exit)[0m
[32m2026-01-19 22:05:10[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m906[0m - [1mGenerating signal with moderate strategy[0m
[32m2026-01-19 22:05:10[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m941[0m - [1mðŸ“ˆ BUY signal generated - Uptrend confirmed (score: 100)[0m
[32m2026-01-19 22:05:10[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m972[0m - [1mGenerated signal: BUY (strength: 65.8)[0m
INFO:     127.0.0.1:52706 - "GET /api/stocks/TRALT.IS/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:52714 - "GET /api/stocks/TRALT.IS/indicators?interval=1h&period=1mo HTTP/1.1" 200 OK
INFO:     127.0.0.1:52722 - "GET /api/signals/TRALT.IS?strategy=moderate&interval=1h&period=1mo HTTP/1.1" 200 OK
INFO:     127.0.0.1:52670 - "GET /api/auth/verify HTTP/1.1" 200 OK
[32m2026-01-19 22:05:10[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
INFO:     127.0.0.1:52664 - "GET /api/market/all HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 336, in jsonable_encoder
    data = dict(obj)
TypeError: 'numpy.bool' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 341, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/MuhammedBesir/trading-botu/backend/app/middleware/rate_limiter.py", line 203, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 449, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 302, in serialize_response
    return jsonable_encoder(response_content)
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 344, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'numpy.bool' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:52670 - "GET /api/market/all HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 336, in jsonable_encoder
    data = dict(obj)
TypeError: 'numpy.bool' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 341, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/MuhammedBesir/trading-botu/backend/app/middleware/rate_limiter.py", line 203, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 449, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 302, in serialize_response
    return jsonable_encoder(response_content)
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 344, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'numpy.bool' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:52714 - "GET /api/market/all HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 336, in jsonable_encoder
    data = dict(obj)
TypeError: 'numpy.bool' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 341, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/MuhammedBesir/trading-botu/backend/app/middleware/rate_limiter.py", line 203, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 449, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 302, in serialize_response
    return jsonable_encoder(response_content)
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 344, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'numpy.bool' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
[32m2026-01-19 22:05:12[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:12[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:14[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:14[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:16[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:16[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:18[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:18[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:20[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:20[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:22[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:22[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:24[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:24[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:26[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:26[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:28[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:28[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:30[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:30[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:32[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:32[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:34[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:34[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:36[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:36[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.api.routes.screener[0m:[36mget_top_movers[0m:[36m121[0m - [1mAPI request: Top movers (top 5)[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36mget_top_movers[0m:[36m961[0m - [1mGetting top movers (top 5)[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for AKBNK.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for AKSEN.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ARCLK.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ASELS.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for BIMAS.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for EKGYO.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ENKAI.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for EREGL.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for FROTO.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for GARAN.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for GUBRF.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for HEKTS.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ISCTR.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for KCHOL.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for KRDMD.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ODAS.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for PETKM.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for PGSUS.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SAHOL.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SASA.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SISE.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TAVHL.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TCELL.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for THYAO.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TKFEN.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TOASO.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TUPRS.IS[0m
[32m2026-01-19 22:05:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for YKBNK.IS[0m
INFO:     127.0.0.1:57926 - "GET /api/screener/top-movers?top_n=5 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57924 - "GET /api/market/all HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 336, in jsonable_encoder
    data = dict(obj)
TypeError: 'numpy.bool' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 341, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/MuhammedBesir/trading-botu/backend/app/middleware/rate_limiter.py", line 203, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 449, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 302, in serialize_response
    return jsonable_encoder(response_content)
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 344, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'numpy.bool' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
[32m2026-01-19 22:05:40[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:40[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:42[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:42[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:44[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:44[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:46[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:46[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:48[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:48[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:50[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:50[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:52[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:52[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:55[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:05:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:00[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:01[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:02[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:03[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:04[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:05[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:06[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:07[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.api.routes.screener[0m:[36mget_top_movers[0m:[36m121[0m - [1mAPI request: Top movers (top 5)[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36mget_top_movers[0m:[36m961[0m - [1mGetting top movers (top 5)[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for AKBNK.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for AKSEN.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ARCLK.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ASELS.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for BIMAS.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for EKGYO.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ENKAI.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for EREGL.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for FROTO.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for GARAN.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for GUBRF.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for HEKTS.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ISCTR.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for KCHOL.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for KRDMD.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ODAS.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for PETKM.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for PGSUS.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SAHOL.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SASA.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SISE.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TAVHL.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TCELL.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for THYAO.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TKFEN.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TOASO.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TUPRS.IS[0m
[32m2026-01-19 22:06:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for YKBNK.IS[0m
INFO:     127.0.0.1:60160 - "GET /api/screener/top-movers?top_n=5 HTTP/1.1" 200 OK
[32m2026-01-19 22:06:09[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:10[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:11[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
INFO:     127.0.0.1:60156 - "GET /api/market/all HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 336, in jsonable_encoder
    data = dict(obj)
TypeError: 'numpy.bool' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 341, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/MuhammedBesir/trading-botu/backend/app/middleware/rate_limiter.py", line 203, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 449, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 302, in serialize_response
    return jsonable_encoder(response_content)
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 344, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'numpy.bool' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
[32m2026-01-19 22:06:12[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:13[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:14[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:15[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:16[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:17[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:18[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:19[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:20[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:21[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:22[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:22[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mdisconnect[0m:[36m182[0m - [1mWebSocket disconnected: user=None[0m
[32m2026-01-19 22:06:22[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mdisconnect[0m:[36m182[0m - [1mWebSocket disconnected: user=None[0m
INFO:     connection closed
INFO:     connection closed
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.api.routes.screener[0m:[36mget_top_movers[0m:[36m121[0m - [1mAPI request: Top movers (top 5)[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36mget_top_movers[0m:[36m961[0m - [1mGetting top movers (top 5)[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for AKBNK.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for AKSEN.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ARCLK.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ASELS.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for BIMAS.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for EKGYO.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ENKAI.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for EREGL.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for FROTO.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for GARAN.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for GUBRF.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for HEKTS.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ISCTR.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for KCHOL.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for KRDMD.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ODAS.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for PETKM.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for PGSUS.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SAHOL.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SASA.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SISE.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TAVHL.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TCELL.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for THYAO.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TKFEN.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TOASO.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TUPRS.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for YKBNK.IS[0m
INFO:     127.0.0.1:42648 - "GET /api/screener/top-movers?top_n=5 HTTP/1.1" 200 OK
INFO:     127.0.0.1:42654 - "WebSocket /ws/stream?channels=price%2Csignal&tickers=TRALT.IS" [accepted]
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mconnect[0m:[36m143[0m - [1mWebSocket connected: channels=['price', 'signal'], tickers=['TRALT.IS'], user=None[0m
INFO:     connection open
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.api.routes.screener[0m:[36mget_top_movers[0m:[36m121[0m - [1mAPI request: Top movers (top 5)[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36mget_top_movers[0m:[36m961[0m - [1mGetting top movers (top 5)[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for AKBNK.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for AKSEN.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ARCLK.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ASELS.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for BIMAS.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for EKGYO.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ENKAI.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for EREGL.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for FROTO.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for GARAN.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for GUBRF.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for HEKTS.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ISCTR.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for KCHOL.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for KRDMD.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ODAS.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for PETKM.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for PGSUS.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SAHOL.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SASA.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SISE.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TAVHL.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TCELL.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for THYAO.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TKFEN.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TOASO.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TUPRS.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for YKBNK.IS[0m
INFO:     127.0.0.1:42658 - "GET /api/screener/top-movers?top_n=5 HTTP/1.1" 200 OK
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_stock_data[0m:[36m35[0m - [1mAPI request: Get data for TRALT.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mvalidate_ticker[0m:[36m77[0m - [1mValidated ticker: TRALT.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
INFO:     127.0.0.1:42672 - "WebSocket /ws/stream?channels=price%2Csignal&tickers=TRALT.IS" [accepted]
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mconnect[0m:[36m143[0m - [1mWebSocket connected: channels=['price', 'signal'], tickers=['TRALT.IS'], user=None[0m
INFO:     connection open
INFO:     127.0.0.1:42648 - "GET /api/stocks/TRALT.IS/data?interval=1h&period=1mo HTTP/1.1" 200 OK
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_stock_info[0m:[36m141[0m - [1mAPI request: Get info for TRALT.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mget_stock_info[0m:[36m275[0m - [1mRetrieved info for TRALT.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_indicators[0m:[36m92[0m - [1mAPI request: Get indicators for TRALT.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.api.routes.signals[0m:[36mget_signals[0m:[36m252[0m - [1mAPI request: Generate signal for TRALT.IS with moderate strategy[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36m__init__[0m:[36m112[0m - [1mSignalGenerator initialized with moderate strategy + V2 Enhanced (Partial Exit)[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m906[0m - [1mGenerating signal with moderate strategy[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m941[0m - [1mðŸ“ˆ BUY signal generated - Uptrend confirmed (score: 100)[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m972[0m - [1mGenerated signal: BUY (strength: 65.8)[0m
INFO:     127.0.0.1:42682 - "GET /api/stocks/TRALT.IS/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:42692 - "GET /api/stocks/TRALT.IS/indicators?interval=1h&period=1mo HTTP/1.1" 200 OK
INFO:     127.0.0.1:42698 - "GET /api/signals/TRALT.IS?strategy=moderate&interval=1h&period=1mo HTTP/1.1" 200 OK
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_stock_data[0m:[36m35[0m - [1mAPI request: Get data for TRALT.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mvalidate_ticker[0m:[36m77[0m - [1mValidated ticker: TRALT.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
INFO:     127.0.0.1:42648 - "GET /api/stocks/TRALT.IS/data?interval=1h&period=1mo HTTP/1.1" 200 OK
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_stock_info[0m:[36m141[0m - [1mAPI request: Get info for TRALT.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mget_stock_info[0m:[36m275[0m - [1mRetrieved info for TRALT.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_indicators[0m:[36m92[0m - [1mAPI request: Get indicators for TRALT.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.api.routes.signals[0m:[36mget_signals[0m:[36m252[0m - [1mAPI request: Generate signal for TRALT.IS with moderate strategy[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36m__init__[0m:[36m112[0m - [1mSignalGenerator initialized with moderate strategy + V2 Enhanced (Partial Exit)[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m906[0m - [1mGenerating signal with moderate strategy[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m941[0m - [1mðŸ“ˆ BUY signal generated - Uptrend confirmed (score: 100)[0m
[32m2026-01-19 22:06:25[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m972[0m - [1mGenerated signal: BUY (strength: 65.8)[0m
INFO:     127.0.0.1:42658 - "GET /api/auth/verify HTTP/1.1" 200 OK
INFO:     127.0.0.1:42692 - "GET /api/stocks/TRALT.IS/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:42682 - "GET /api/stocks/TRALT.IS/indicators?interval=1h&period=1mo HTTP/1.1" 200 OK
INFO:     127.0.0.1:42698 - "GET /api/signals/TRALT.IS?strategy=moderate&interval=1h&period=1mo HTTP/1.1" 200 OK
INFO:     127.0.0.1:42648 - "GET /api/auth/verify HTTP/1.1" 200 OK
INFO:     127.0.0.1:42632 - "GET /api/market/all HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 336, in jsonable_encoder
    data = dict(obj)
TypeError: 'numpy.bool' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 341, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/MuhammedBesir/trading-botu/backend/app/middleware/rate_limiter.py", line 203, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 449, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 302, in serialize_response
    return jsonable_encoder(response_content)
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 344, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'numpy.bool' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:42648 - "GET /api/market/all HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 336, in jsonable_encoder
    data = dict(obj)
TypeError: 'numpy.bool' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 341, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/MuhammedBesir/trading-botu/backend/app/middleware/rate_limiter.py", line 203, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 449, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 302, in serialize_response
    return jsonable_encoder(response_content)
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 344, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'numpy.bool' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
INFO:     127.0.0.1:42682 - "GET /api/market/all HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 336, in jsonable_encoder
    data = dict(obj)
TypeError: 'numpy.bool' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 341, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/MuhammedBesir/trading-botu/backend/app/middleware/rate_limiter.py", line 203, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 449, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 302, in serialize_response
    return jsonable_encoder(response_content)
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 344, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'numpy.bool' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
[32m2026-01-19 22:06:27[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:27[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:29[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:29[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:31[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:31[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:33[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:33[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TRALT.IS (interval=1m, period=1d)[0m
[32m2026-01-19 22:06:33[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 481 data points for TRALT.IS[0m
[32m2026-01-19 22:06:35[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:35[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:37[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:37[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:39[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:39[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:41[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:41[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:43[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:43[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:45[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:45[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:47[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:47[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:49[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:49[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:51[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:51[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:53[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:53[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:06:55[0m | [1mINFO    [0m | [36mapp.api.routes.screener[0m:[36mget_top_movers[0m:[36m121[0m - [1mAPI request: Top movers (top 5)[0m
[32m2026-01-19 22:06:55[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36mget_top_movers[0m:[36m961[0m - [1mGetting top movers (top 5)[0m
[32m2026-01-19 22:06:55[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for AKBNK.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for AKBNK.IS[0m
[32m2026-01-19 22:06:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for AKSEN.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for AKSEN.IS[0m
[32m2026-01-19 22:06:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ARCLK.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for ARCLK.IS[0m
[32m2026-01-19 22:06:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ASELS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for ASELS.IS[0m
[32m2026-01-19 22:06:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for BIMAS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for BIMAS.IS[0m
[32m2026-01-19 22:06:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for EKGYO.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for EKGYO.IS[0m
[32m2026-01-19 22:06:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ENKAI.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for ENKAI.IS[0m
[32m2026-01-19 22:06:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for EREGL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for EREGL.IS[0m
[32m2026-01-19 22:06:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for FROTO.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for FROTO.IS[0m
[32m2026-01-19 22:06:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for GARAN.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for GARAN.IS[0m
[32m2026-01-19 22:06:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for GUBRF.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for GUBRF.IS[0m
[32m2026-01-19 22:06:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for HEKTS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for HEKTS.IS[0m
[32m2026-01-19 22:06:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ISCTR.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for ISCTR.IS[0m
[32m2026-01-19 22:06:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for KCHOL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for KCHOL.IS[0m
[32m2026-01-19 22:06:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for KRDMD.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for KRDMD.IS[0m
[32m2026-01-19 22:06:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ODAS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for ODAS.IS[0m
[32m2026-01-19 22:06:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for PETKM.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for PETKM.IS[0m
[32m2026-01-19 22:06:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for PGSUS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for PGSUS.IS[0m
[32m2026-01-19 22:06:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for SAHOL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for SAHOL.IS[0m
[32m2026-01-19 22:06:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for SASA.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for SASA.IS[0m
[32m2026-01-19 22:06:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for SISE.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for SISE.IS[0m
[32m2026-01-19 22:06:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TAVHL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TAVHL.IS[0m
[32m2026-01-19 22:06:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TCELL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TCELL.IS[0m
[32m2026-01-19 22:06:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for THYAO.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for THYAO.IS[0m
[32m2026-01-19 22:06:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TKFEN.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:06:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TKFEN.IS[0m
[32m2026-01-19 22:06:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TOASO.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:00[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TOASO.IS[0m
[32m2026-01-19 22:07:00[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TRALT.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:00[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TRALT.IS[0m
[32m2026-01-19 22:07:00[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TUPRS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:00[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TUPRS.IS[0m
[32m2026-01-19 22:07:00[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for YKBNK.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:00[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for YKBNK.IS[0m
INFO:     127.0.0.1:37318 - "GET /api/screener/top-movers?top_n=5 HTTP/1.1" 200 OK
[32m2026-01-19 22:07:00[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:00[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
INFO:     127.0.0.1:37316 - "GET /api/market/all HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 336, in jsonable_encoder
    data = dict(obj)
TypeError: 'numpy.bool' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 341, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/MuhammedBesir/trading-botu/backend/app/middleware/rate_limiter.py", line 203, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 449, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 302, in serialize_response
    return jsonable_encoder(response_content)
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 344, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'numpy.bool' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
[32m2026-01-19 22:07:02[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:02[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:04[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:04[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:06[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:06[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:10[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:10[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:12[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:12[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:14[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:14[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:16[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:16[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:18[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:18[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:20[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:20[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:22[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:22[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:24[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:24[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.api.routes.screener[0m:[36mget_top_movers[0m:[36m121[0m - [1mAPI request: Top movers (top 5)[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36mget_top_movers[0m:[36m961[0m - [1mGetting top movers (top 5)[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for AKBNK.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for AKSEN.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ARCLK.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ASELS.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for BIMAS.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for EKGYO.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ENKAI.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for EREGL.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for FROTO.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for GARAN.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for GUBRF.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for HEKTS.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ISCTR.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for KCHOL.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for KRDMD.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for ODAS.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for PETKM.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for PGSUS.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SAHOL.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SASA.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for SISE.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TAVHL.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TCELL.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for THYAO.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TKFEN.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TOASO.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TUPRS.IS[0m
[32m2026-01-19 22:07:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for YKBNK.IS[0m
INFO:     127.0.0.1:41036 - "GET /api/screener/top-movers?top_n=5 HTTP/1.1" 200 OK
INFO:     127.0.0.1:41020 - "GET /api/market/all HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 336, in jsonable_encoder
    data = dict(obj)
TypeError: 'numpy.bool' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 341, in jsonable_encoder
    data = vars(obj)
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "/usr/lib64/python3.14/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/_utils.py", line 85, in collapse_excgroups
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/MuhammedBesir/trading-botu/backend/app/middleware/rate_limiter.py", line 203, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/usr/lib/python3.14/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 120, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/lib/python3.14/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 106, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 449, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<10 lines>...
    )
    ^
  File "/usr/lib/python3.14/site-packages/fastapi/routing.py", line 302, in serialize_response
    return jsonable_encoder(response_content)
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 301, in jsonable_encoder
    encoded_value = jsonable_encoder(
        value,
    ...<4 lines>...
        sqlalchemy_safe=sqlalchemy_safe,
    )
  File "/usr/lib/python3.14/site-packages/fastapi/encoders.py", line 344, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'numpy.bool' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
[32m2026-01-19 22:07:26[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:26[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:28[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:28[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:30[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:30[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:32[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:32[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:34[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:34[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:36[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:36[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:38[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:40[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:40[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:42[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:43[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
WARNING:  WatchFiles detected changes in 'app/services/market_data.py'. Reloading...
INFO:     Shutting down
[32m2026-01-19 22:07:44[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mdisconnect[0m:[36m182[0m - [1mWebSocket disconnected: user=None[0m
INFO:     connection closed
[32m2026-01-19 22:07:44[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mdisconnect[0m:[36m182[0m - [1mWebSocket disconnected: user=None[0m
INFO:     connection closed
INFO:     Waiting for application shutdown.
[32m2026-01-19 22:07:44[0m | [1mINFO    [0m | [36mapp.main[0m:[36mshutdown_event[0m:[36m113[0m - [1mTrading Bot API Shutting down...[0m
[32m2026-01-19 22:07:44[0m | [1mINFO    [0m | [36mapp.main[0m:[36mshutdown_event[0m:[36m118[0m - [1mIPO Scheduler stopped[0m
INFO:     Application shutdown complete.
INFO:     Finished server process [131900]
[32m2026-01-19 22:07:45[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:07:45[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:07:45[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:07:45[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:07:45[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:07:45[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:07:45[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:07:45[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:07:45[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36m__init__[0m:[36m84[0m - [1mStockScreener initialized - Adaptive ATR-Based Strategy v3[0m
[32m2026-01-19 22:07:45[0m | [1mINFO    [0m | [36mapp.services.strategy_tester[0m:[36m__init__[0m:[36m22[0m - [1mStrategyTester initialized[0m
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36m__init__[0m:[36m84[0m - [1mStockScreener initialized - Adaptive ATR-Based Strategy v3[0m
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.services.alert_manager[0m:[36m__init__[0m:[36m18[0m - [1mAlertManager initialized[0m
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36m__init__[0m:[36m84[0m - [1mStockScreener initialized - Adaptive ATR-Based Strategy v3[0m
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36m__init__[0m:[36m92[0m - [1mAdvancedWebSocketManager initialized[0m
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
INFO:     Started server process [133307]
INFO:     Waiting for application startup.
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m88[0m - [1m==================================================[0m
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m89[0m - [1mTrading Bot API Starting...[0m
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m90[0m - [1mEnvironment: INFO[0m
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m91[0m - [1mCORS Origins: ['http://localhost:5173', 'http://localhost:3000', 'http://localhost'][0m
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m92[0m - [1m==================================================[0m
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m97[0m - [1mDatabase tables initialized[0m
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m105[0m - [1mIPO Auto-Update Scheduler started[0m
INFO:     Application startup complete.
INFO:     127.0.0.1:56028 - "WebSocket /ws/stream?channels=price%2Csignal&tickers=TRALT.IS" [accepted]
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mconnect[0m:[36m143[0m - [1mWebSocket connected: channels=['price', 'signal'], tickers=['TRALT.IS'], user=None[0m
INFO:     connection open
[32m2026-01-19 22:07:46[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TRALT.IS (interval=1m, period=1d)[0m
[32m2026-01-19 22:07:48[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 481 data points for TRALT.IS[0m
INFO:     127.0.0.1:56042 - "WebSocket /ws/stream?channels=price%2Csignal&tickers=TRALT.IS" [accepted]
[32m2026-01-19 22:07:48[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mconnect[0m:[36m143[0m - [1mWebSocket connected: channels=['price', 'signal'], tickers=['TRALT.IS'], user=None[0m
INFO:     connection open
[32m2026-01-19 22:07:48[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:50[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:50[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:51[0m | [1mINFO    [0m | [36mapp.main[0m:[36mipo_update_callback[0m:[36m76[0m - [1mIPO Scheduler: Running automatic update...[0m
[32m2026-01-19 22:07:52[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:52[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mdisconnect[0m:[36m182[0m - [1mWebSocket disconnected: user=None[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mdisconnect[0m:[36m182[0m - [1mWebSocket disconnected: user=None[0m
INFO:     connection closed
INFO:     connection closed
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for XU100.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for XU030.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.api.routes.screener[0m:[36mget_top_movers[0m:[36m121[0m - [1mAPI request: Top movers (top 5)[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36mget_top_movers[0m:[36m961[0m - [1mGetting top movers (top 5)[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for AKBNK.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for XU030.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for XU100.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for AKBNK.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for AKSEN.IS (interval=1d, period=5d)[0m

1 Failed download:
['TRY=X', 'EURTRY=X']: TypeError("'NoneType' object is not subscriptable")

2 Failed downloads:

2 Failed downloads:

2 Failed downloads:

2 Failed downloads:
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for AKSEN.IS: 'NoneType' object is not subscriptable[0m

2 Failed downloads:
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ARCLK.IS (interval=1d, period=5d)[0m
['TRY=X', 'EURTRY=X']: TypeError("'NoneType' object is not subscriptable")
['TRY=X', 'EURTRY=X']: TypeError("'NoneType' object is not subscriptable")
['TRY=X', 'EURTRY=X', 'GC=F']: TypeError("'NoneType' object is not subscriptable")
['TRY=X', 'EURTRY=X', 'GC=F']: TypeError("'NoneType' object is not subscriptable")
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for ARCLK.IS: 'NoneType' object is not subscriptable[0m
['TRY=X', 'EURTRY=X', 'GC=F', '^IXIC']: TypeError("'NoneType' object is not subscriptable")
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ASELS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for ASELS.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for BIMAS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for BIMAS.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for EKGYO.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for EKGYO.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ENKAI.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for ENKAI.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for EREGL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for EREGL.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for FROTO.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for FROTO.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for GARAN.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for GARAN.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for GUBRF.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for GUBRF.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for HEKTS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for HEKTS.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ISCTR.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for ISCTR.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for KCHOL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for KCHOL.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for KRDMD.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for KRDMD.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ODAS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for ODAS.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for PETKM.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for PETKM.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for PGSUS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for PGSUS.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for SAHOL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for SAHOL.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for SASA.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for SASA.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for SISE.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for SISE.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TAVHL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for TAVHL.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TCELL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for TCELL.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for THYAO.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for THYAO.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TKFEN.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for TKFEN.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TOASO.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for TOASO.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TRALT.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for TRALT.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TUPRS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for TUPRS.IS: 'NoneType' object is not subscriptable[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for YKBNK.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:54[0m | [31m[1mERROR   [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m145[0m - [31m[1mError fetching real-time data for YKBNK.IS: 'NoneType' object is not subscriptable[0m
INFO:     127.0.0.1:39106 - "WebSocket /ws/stream?channels=price%2Csignal&tickers=TRALT.IS" [accepted]
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mconnect[0m:[36m143[0m - [1mWebSocket connected: channels=['price', 'signal'], tickers=['TRALT.IS'], user=None[0m
INFO:     connection open
INFO:     127.0.0.1:39104 - "GET /api/screener/top-movers?top_n=5 HTTP/1.1" 200 OK
INFO:     127.0.0.1:39120 - "OPTIONS /api/stocks/TRALT.IS/data?interval=1h&period=1mo HTTP/1.1" 200 OK
INFO:     127.0.0.1:39128 - "OPTIONS /api/stocks/TRALT.IS/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:39142 - "OPTIONS /api/stocks/TRALT.IS/indicators?interval=1h&period=1mo HTTP/1.1" 200 OK
INFO:     127.0.0.1:39158 - "OPTIONS /api/signals/TRALT.IS?strategy=moderate&interval=1h&period=1mo HTTP/1.1" 200 OK
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
INFO:     127.0.0.1:39098 - "GET /api/market/all HTTP/1.1" 200 OK
INFO:     127.0.0.1:39208 - "WebSocket /ws/stream?channels=price%2Csignal&tickers=TRALT.IS" [accepted]
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mconnect[0m:[36m143[0m - [1mWebSocket connected: channels=['price', 'signal'], tickers=['TRALT.IS'], user=None[0m
INFO:     connection open
INFO:     127.0.0.1:39162 - "OPTIONS /api/stocks/TRALT.IS/data?interval=1h&period=1mo HTTP/1.1" 200 OK
INFO:     127.0.0.1:39172 - "OPTIONS /api/stocks/TRALT.IS/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:39184 - "OPTIONS /api/stocks/TRALT.IS/indicators?interval=1h&period=1mo HTTP/1.1" 200 OK
INFO:     127.0.0.1:39194 - "OPTIONS /api/signals/TRALT.IS?strategy=moderate&interval=1h&period=1mo HTTP/1.1" 200 OK
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.api.routes.screener[0m:[36mget_top_movers[0m:[36m121[0m - [1mAPI request: Top movers (top 5)[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36mget_top_movers[0m:[36m961[0m - [1mGetting top movers (top 5)[0m
[32m2026-01-19 22:07:54[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for AKBNK.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:55[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for AKBNK.IS[0m
[32m2026-01-19 22:07:55[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for AKSEN.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:55[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for AKSEN.IS[0m
[32m2026-01-19 22:07:55[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ARCLK.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:55[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for ARCLK.IS[0m
[32m2026-01-19 22:07:55[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ASELS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for ASELS.IS[0m
[32m2026-01-19 22:07:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for BIMAS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for BIMAS.IS[0m
[32m2026-01-19 22:07:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for EKGYO.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for EKGYO.IS[0m
[32m2026-01-19 22:07:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ENKAI.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for ENKAI.IS[0m
[32m2026-01-19 22:07:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for EREGL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for EREGL.IS[0m
[32m2026-01-19 22:07:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for FROTO.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for FROTO.IS[0m
[32m2026-01-19 22:07:56[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for GARAN.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for GARAN.IS[0m
[32m2026-01-19 22:07:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for GUBRF.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for GUBRF.IS[0m
[32m2026-01-19 22:07:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for HEKTS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for HEKTS.IS[0m
[32m2026-01-19 22:07:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ISCTR.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for ISCTR.IS[0m
[32m2026-01-19 22:07:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for KCHOL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for KCHOL.IS[0m
[32m2026-01-19 22:07:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for KRDMD.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for KRDMD.IS[0m
[32m2026-01-19 22:07:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ODAS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for ODAS.IS[0m
[32m2026-01-19 22:07:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for PETKM.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for PETKM.IS[0m
[32m2026-01-19 22:07:57[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for PGSUS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for PGSUS.IS[0m
[32m2026-01-19 22:07:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for SAHOL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for SAHOL.IS[0m
[32m2026-01-19 22:07:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for SASA.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for SASA.IS[0m
[32m2026-01-19 22:07:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for SISE.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for SISE.IS[0m
[32m2026-01-19 22:07:58[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TAVHL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TAVHL.IS[0m
[32m2026-01-19 22:07:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TCELL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TCELL.IS[0m
[32m2026-01-19 22:07:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for THYAO.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for THYAO.IS[0m
[32m2026-01-19 22:07:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TKFEN.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TKFEN.IS[0m
[32m2026-01-19 22:07:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TOASO.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:07:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TOASO.IS[0m
[32m2026-01-19 22:07:59[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TRALT.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:00[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TRALT.IS[0m
[32m2026-01-19 22:08:00[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TUPRS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:00[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TUPRS.IS[0m
[32m2026-01-19 22:08:00[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for YKBNK.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:00[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for YKBNK.IS[0m
[32m2026-01-19 22:08:00[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
INFO:     127.0.0.1:39104 - "GET /api/auth/verify HTTP/1.1" 200 OK
INFO:     127.0.0.1:39098 - "GET /api/screener/top-movers?top_n=5 HTTP/1.1" 200 OK
[32m2026-01-19 22:08:00[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:08:00[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_stock_data[0m:[36m35[0m - [1mAPI request: Get data for TRALT.IS[0m
[32m2026-01-19 22:08:05[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mvalidate_ticker[0m:[36m77[0m - [1mValidated ticker: TRALT.IS[0m
[32m2026-01-19 22:08:05[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TRALT.IS (interval=1h, period=1mo)[0m
[32m2026-01-19 22:08:05[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 180 data points for TRALT.IS[0m
[32m2026-01-19 22:08:05[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_stock_info[0m:[36m141[0m - [1mAPI request: Get info for TRALT.IS[0m
[32m2026-01-19 22:08:05[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mget_stock_info[0m:[36m275[0m - [1mRetrieved info for TRALT.IS[0m
[32m2026-01-19 22:08:05[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_indicators[0m:[36m92[0m - [1mAPI request: Get indicators for TRALT.IS[0m
[32m2026-01-19 22:08:05[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:08:05[0m | [1mINFO    [0m | [36mapp.api.routes.signals[0m:[36mget_signals[0m:[36m252[0m - [1mAPI request: Generate signal for TRALT.IS with moderate strategy[0m
[32m2026-01-19 22:08:05[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:08:05[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36m__init__[0m:[36m112[0m - [1mSignalGenerator initialized with moderate strategy + V2 Enhanced (Partial Exit)[0m
[32m2026-01-19 22:08:05[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m906[0m - [1mGenerating signal with moderate strategy[0m
[32m2026-01-19 22:08:05[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m941[0m - [1mðŸ“ˆ BUY signal generated - Uptrend confirmed (score: 100)[0m
[32m2026-01-19 22:08:05[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m972[0m - [1mGenerated signal: BUY (strength: 65.8)[0m
INFO:     127.0.0.1:39210 - "GET /api/stocks/TRALT.IS/data?interval=1h&period=1mo HTTP/1.1" 200 OK
INFO:     127.0.0.1:39224 - "GET /api/stocks/TRALT.IS/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:39236 - "GET /api/stocks/TRALT.IS/indicators?interval=1h&period=1mo HTTP/1.1" 200 OK
INFO:     127.0.0.1:39242 - "GET /api/signals/TRALT.IS?strategy=moderate&interval=1h&period=1mo HTTP/1.1" 200 OK
[32m2026-01-19 22:08:05[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:08:05[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:08:05[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_stock_data[0m:[36m35[0m - [1mAPI request: Get data for TRALT.IS[0m
[32m2026-01-19 22:08:05[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for XU100.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:05[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for XU030.IS (interval=1d, period=5d)[0m
/home/MuhammedBesir/trading-botu/backend/app/services/market_data.py:63: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  current_price = float(hist["Close"].iloc[-1])
/home/MuhammedBesir/trading-botu/backend/app/services/market_data.py:64: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  previous_close = float(hist["Close"].iloc[-2]) if len(hist) > 1 else current_price
/home/MuhammedBesir/trading-botu/backend/app/services/market_data.py:63: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  current_price = float(hist["Close"].iloc[-1])
/home/MuhammedBesir/trading-botu/backend/app/services/market_data.py:64: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  previous_close = float(hist["Close"].iloc[-2]) if len(hist) > 1 else current_price
/home/MuhammedBesir/trading-botu/backend/app/services/market_data.py:63: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  current_price = float(hist["Close"].iloc[-1])
/home/MuhammedBesir/trading-botu/backend/app/services/market_data.py:63: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  current_price = float(hist["Close"].iloc[-1])
/home/MuhammedBesir/trading-botu/backend/app/services/market_data.py:64: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  previous_close = float(hist["Close"].iloc[-2]) if len(hist) > 1 else current_price
[32m2026-01-19 22:08:05[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for XU100.IS[0m
/home/MuhammedBesir/trading-botu/backend/app/services/market_data.py:63: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  current_price = float(hist["Close"].iloc[-1])
/home/MuhammedBesir/trading-botu/backend/app/services/market_data.py:64: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  previous_close = float(hist["Close"].iloc[-2]) if len(hist) > 1 else current_price
/home/MuhammedBesir/trading-botu/backend/app/services/market_data.py:63: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  current_price = float(hist["Close"].iloc[-1])
/home/MuhammedBesir/trading-botu/backend/app/services/market_data.py:64: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  previous_close = float(hist["Close"].iloc[-2]) if len(hist) > 1 else current_price
[32m2026-01-19 22:08:05[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for XU030.IS[0m
[32m2026-01-19 22:08:06[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mvalidate_ticker[0m:[36m77[0m - [1mValidated ticker: TRALT.IS[0m
[32m2026-01-19 22:08:06[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:08:06[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_stock_info[0m:[36m141[0m - [1mAPI request: Get info for TRALT.IS[0m
[32m2026-01-19 22:08:06[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mget_stock_info[0m:[36m275[0m - [1mRetrieved info for TRALT.IS[0m
[32m2026-01-19 22:08:06[0m | [1mINFO    [0m | [36mapp.api.routes.stocks[0m:[36mget_indicators[0m:[36m92[0m - [1mAPI request: Get indicators for TRALT.IS[0m
[32m2026-01-19 22:08:06[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:08:06[0m | [1mINFO    [0m | [36mapp.api.routes.signals[0m:[36mget_signals[0m:[36m252[0m - [1mAPI request: Generate signal for TRALT.IS with moderate strategy[0m
[32m2026-01-19 22:08:06[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:08:06[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36m__init__[0m:[36m112[0m - [1mSignalGenerator initialized with moderate strategy + V2 Enhanced (Partial Exit)[0m
[32m2026-01-19 22:08:06[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m906[0m - [1mGenerating signal with moderate strategy[0m
[32m2026-01-19 22:08:06[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m941[0m - [1mðŸ“ˆ BUY signal generated - Uptrend confirmed (score: 100)[0m
[32m2026-01-19 22:08:06[0m | [1mINFO    [0m | [36mapp.services.signal_generator[0m:[36mgenerate_signal[0m:[36m972[0m - [1mGenerated signal: BUY (strength: 65.8)[0m
INFO:     127.0.0.1:39210 - "GET /api/stocks/TRALT.IS/data?interval=1h&period=1mo HTTP/1.1" 200 OK
INFO:     127.0.0.1:39224 - "GET /api/stocks/TRALT.IS/info HTTP/1.1" 200 OK
INFO:     127.0.0.1:39236 - "GET /api/stocks/TRALT.IS/indicators?interval=1h&period=1mo HTTP/1.1" 200 OK
INFO:     127.0.0.1:39242 - "GET /api/signals/TRALT.IS?strategy=moderate&interval=1h&period=1mo HTTP/1.1" 200 OK
INFO:     127.0.0.1:39098 - "GET /api/auth/verify HTTP/1.1" 200 OK
INFO:     127.0.0.1:39104 - "GET /api/market/all HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/services/market_data.py'. Reloading...
INFO:     Shutting down
[32m2026-01-19 22:08:07[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mdisconnect[0m:[36m182[0m - [1mWebSocket disconnected: user=None[0m
INFO:     connection closed
[32m2026-01-19 22:08:07[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mdisconnect[0m:[36m182[0m - [1mWebSocket disconnected: user=None[0m
INFO:     connection closed
INFO:     Waiting for application shutdown.
[32m2026-01-19 22:08:07[0m | [1mINFO    [0m | [36mapp.main[0m:[36mshutdown_event[0m:[36m113[0m - [1mTrading Bot API Shutting down...[0m
[32m2026-01-19 22:08:07[0m | [1mINFO    [0m | [36mapp.main[0m:[36mshutdown_event[0m:[36m118[0m - [1mIPO Scheduler stopped[0m
INFO:     Application shutdown complete.
INFO:     Finished server process [133307]
[32m2026-01-19 22:08:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:08:08[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:08:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:08:08[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:08:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:08:08[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:08:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:08:08[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:08:08[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36m__init__[0m:[36m84[0m - [1mStockScreener initialized - Adaptive ATR-Based Strategy v3[0m
[32m2026-01-19 22:08:08[0m | [1mINFO    [0m | [36mapp.services.strategy_tester[0m:[36m__init__[0m:[36m22[0m - [1mStrategyTester initialized[0m
[32m2026-01-19 22:08:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:08:08[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:08:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:08:08[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:08:08[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36m__init__[0m:[36m84[0m - [1mStockScreener initialized - Adaptive ATR-Based Strategy v3[0m
[32m2026-01-19 22:08:08[0m | [1mINFO    [0m | [36mapp.services.alert_manager[0m:[36m__init__[0m:[36m18[0m - [1mAlertManager initialized[0m
[32m2026-01-19 22:08:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:08:08[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:08:08[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36m__init__[0m:[36m84[0m - [1mStockScreener initialized - Adaptive ATR-Based Strategy v3[0m
[32m2026-01-19 22:08:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:08:08[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:08:09[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36m__init__[0m:[36m92[0m - [1mAdvancedWebSocketManager initialized[0m
[32m2026-01-19 22:08:09[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:08:09[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:08:09[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:08:09[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
INFO:     Started server process [133551]
INFO:     Waiting for application startup.
[32m2026-01-19 22:08:09[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m88[0m - [1m==================================================[0m
[32m2026-01-19 22:08:09[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m89[0m - [1mTrading Bot API Starting...[0m
[32m2026-01-19 22:08:09[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m90[0m - [1mEnvironment: INFO[0m
[32m2026-01-19 22:08:09[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m91[0m - [1mCORS Origins: ['http://localhost:5173', 'http://localhost:3000', 'http://localhost'][0m
[32m2026-01-19 22:08:09[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m92[0m - [1m==================================================[0m
[32m2026-01-19 22:08:09[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m97[0m - [1mDatabase tables initialized[0m
[32m2026-01-19 22:08:09[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m105[0m - [1mIPO Auto-Update Scheduler started[0m
INFO:     Application startup complete.
INFO:     127.0.0.1:53426 - "WebSocket /ws/stream?channels=price%2Csignal&tickers=TRALT.IS" [accepted]
[32m2026-01-19 22:08:09[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mconnect[0m:[36m143[0m - [1mWebSocket connected: channels=['price', 'signal'], tickers=['TRALT.IS'], user=None[0m
INFO:     connection open
[32m2026-01-19 22:08:09[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TRALT.IS (interval=1m, period=1d)[0m
[32m2026-01-19 22:08:09[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 481 data points for TRALT.IS[0m
INFO:     127.0.0.1:53438 - "WebSocket /ws/stream?channels=price%2Csignal&tickers=TRALT.IS" [accepted]
[32m2026-01-19 22:08:09[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mconnect[0m:[36m143[0m - [1mWebSocket connected: channels=['price', 'signal'], tickers=['TRALT.IS'], user=None[0m
INFO:     connection open
[32m2026-01-19 22:08:09[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
WARNING:  WatchFiles detected changes in 'app/services/market_data.py'. Reloading...
INFO:     Shutting down
[32m2026-01-19 22:08:11[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mdisconnect[0m:[36m182[0m - [1mWebSocket disconnected: user=None[0m
INFO:     connection closed
[32m2026-01-19 22:08:11[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mdisconnect[0m:[36m182[0m - [1mWebSocket disconnected: user=None[0m
INFO:     connection closed
INFO:     Waiting for application shutdown.
[32m2026-01-19 22:08:11[0m | [1mINFO    [0m | [36mapp.main[0m:[36mshutdown_event[0m:[36m113[0m - [1mTrading Bot API Shutting down...[0m
[32m2026-01-19 22:08:11[0m | [1mINFO    [0m | [36mapp.main[0m:[36mshutdown_event[0m:[36m118[0m - [1mIPO Scheduler stopped[0m
INFO:     Application shutdown complete.
INFO:     Finished server process [133551]
[32m2026-01-19 22:08:12[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:08:12[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:08:12[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:08:12[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:08:12[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:08:12[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:08:12[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:08:12[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:08:12[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36m__init__[0m:[36m84[0m - [1mStockScreener initialized - Adaptive ATR-Based Strategy v3[0m
[32m2026-01-19 22:08:12[0m | [1mINFO    [0m | [36mapp.services.strategy_tester[0m:[36m__init__[0m:[36m22[0m - [1mStrategyTester initialized[0m
[32m2026-01-19 22:08:12[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:08:12[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:08:12[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:08:12[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:08:12[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36m__init__[0m:[36m84[0m - [1mStockScreener initialized - Adaptive ATR-Based Strategy v3[0m
[32m2026-01-19 22:08:12[0m | [1mINFO    [0m | [36mapp.services.alert_manager[0m:[36m__init__[0m:[36m18[0m - [1mAlertManager initialized[0m
[32m2026-01-19 22:08:12[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:08:12[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:08:12[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36m__init__[0m:[36m84[0m - [1mStockScreener initialized - Adaptive ATR-Based Strategy v3[0m
[32m2026-01-19 22:08:12[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:08:13[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:08:13[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36m__init__[0m:[36m92[0m - [1mAdvancedWebSocketManager initialized[0m
[32m2026-01-19 22:08:13[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:08:13[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
[32m2026-01-19 22:08:13[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36m__init__[0m:[36m57[0m - [1mDataFetcher initialized[0m
[32m2026-01-19 22:08:13[0m | [1mINFO    [0m | [36mapp.services.technical_analysis[0m:[36m__init__[0m:[36m16[0m - [1mTechnicalAnalysis initialized (native implementation)[0m
INFO:     Started server process [133570]
INFO:     Waiting for application startup.
[32m2026-01-19 22:08:13[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m88[0m - [1m==================================================[0m
[32m2026-01-19 22:08:13[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m89[0m - [1mTrading Bot API Starting...[0m
[32m2026-01-19 22:08:13[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m90[0m - [1mEnvironment: INFO[0m
[32m2026-01-19 22:08:13[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m91[0m - [1mCORS Origins: ['http://localhost:5173', 'http://localhost:3000', 'http://localhost'][0m
[32m2026-01-19 22:08:13[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m92[0m - [1m==================================================[0m
[32m2026-01-19 22:08:13[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m97[0m - [1mDatabase tables initialized[0m
[32m2026-01-19 22:08:13[0m | [1mINFO    [0m | [36mapp.main[0m:[36mstartup_event[0m:[36m105[0m - [1mIPO Auto-Update Scheduler started[0m
INFO:     Application startup complete.
INFO:     127.0.0.1:53442 - "WebSocket /ws/stream?channels=price%2Csignal&tickers=TRALT.IS" [accepted]
[32m2026-01-19 22:08:13[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mconnect[0m:[36m143[0m - [1mWebSocket connected: channels=['price', 'signal'], tickers=['TRALT.IS'], user=None[0m
INFO:     connection open
[32m2026-01-19 22:08:13[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TRALT.IS (interval=1m, period=1d)[0m
[32m2026-01-19 22:08:14[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 481 data points for TRALT.IS[0m
INFO:     127.0.0.1:53446 - "WebSocket /ws/stream?channels=price%2Csignal&tickers=TRALT.IS" [accepted]
[32m2026-01-19 22:08:14[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mconnect[0m:[36m143[0m - [1mWebSocket connected: channels=['price', 'signal'], tickers=['TRALT.IS'], user=None[0m
INFO:     connection open
[32m2026-01-19 22:08:14[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:08:16[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:08:16[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:08:18[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:08:18[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:08:18[0m | [1mINFO    [0m | [36mapp.main[0m:[36mipo_update_callback[0m:[36m76[0m - [1mIPO Scheduler: Running automatic update...[0m
[32m2026-01-19 22:08:20[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:08:20[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:08:22[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:08:22[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:08:23[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for XU100.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:23[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for XU030.IS (interval=1d, period=5d)[0m
Error fetching EURTRY=X: cannot convert the series to <class 'float'>
Error fetching ^IXIC: cannot convert the series to <class 'float'>
Error fetching BTC-USD: cannot convert the series to <class 'float'>
Error fetching TRY=X: cannot convert the series to <class 'float'>
Error fetching ^GSPC: cannot convert the series to <class 'float'>
Error fetching GC=F: cannot convert the series to <class 'float'>
[32m2026-01-19 22:08:23[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for XU030.IS[0m
[32m2026-01-19 22:08:23[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for XU100.IS[0m
INFO:     127.0.0.1:58278 - "GET /api/market/all HTTP/1.1" 200 OK
[32m2026-01-19 22:08:23[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for XU100.IS[0m
[32m2026-01-19 22:08:23[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for XU030.IS[0m
/home/MuhammedBesir/trading-botu/backend/app/services/market_data.py:62: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  current_price = float(hist["Close"].iloc[-1])
/home/MuhammedBesir/trading-botu/backend/app/services/market_data.py:63: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  previous_close = float(hist["Close"].iloc[-2]) if len(hist) > 1 else current_price
/home/MuhammedBesir/trading-botu/backend/app/services/market_data.py:62: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  current_price = float(hist["Close"].iloc[-1])
/home/MuhammedBesir/trading-botu/backend/app/services/market_data.py:63: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  previous_close = float(hist["Close"].iloc[-2]) if len(hist) > 1 else current_price
Error fetching ^IXIC: cannot convert the series to <class 'float'>
Error fetching BTC-USD: cannot convert the series to <class 'float'>
INFO:     127.0.0.1:49634 - "GET /api/market/all HTTP/1.1" 200 OK
[32m2026-01-19 22:08:24[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:08:24[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:08:24[0m | [1mINFO    [0m | [36mapp.api.routes.screener[0m:[36mget_top_movers[0m:[36m121[0m - [1mAPI request: Top movers (top 5)[0m
[32m2026-01-19 22:08:24[0m | [1mINFO    [0m | [36mapp.services.stock_screener[0m:[36mget_top_movers[0m:[36m961[0m - [1mGetting top movers (top 5)[0m
[32m2026-01-19 22:08:24[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for AKBNK.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:24[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for AKBNK.IS[0m
[32m2026-01-19 22:08:24[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for AKSEN.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:24[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for AKSEN.IS[0m
[32m2026-01-19 22:08:24[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ARCLK.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for ARCLK.IS[0m
[32m2026-01-19 22:08:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ASELS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for ASELS.IS[0m
[32m2026-01-19 22:08:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for BIMAS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for BIMAS.IS[0m
[32m2026-01-19 22:08:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for EKGYO.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for EKGYO.IS[0m
[32m2026-01-19 22:08:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ENKAI.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for ENKAI.IS[0m
[32m2026-01-19 22:08:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for EREGL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for EREGL.IS[0m
[32m2026-01-19 22:08:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for FROTO.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for FROTO.IS[0m
[32m2026-01-19 22:08:25[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for GARAN.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:26[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for GARAN.IS[0m
[32m2026-01-19 22:08:26[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for GUBRF.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:26[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for GUBRF.IS[0m
[32m2026-01-19 22:08:26[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for HEKTS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:26[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for HEKTS.IS[0m
[32m2026-01-19 22:08:26[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ISCTR.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:26[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for ISCTR.IS[0m
[32m2026-01-19 22:08:26[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for KCHOL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:26[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for KCHOL.IS[0m
[32m2026-01-19 22:08:26[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for KRDMD.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:26[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for KRDMD.IS[0m
[32m2026-01-19 22:08:26[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for ODAS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:27[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for ODAS.IS[0m
[32m2026-01-19 22:08:27[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for PETKM.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:27[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for PETKM.IS[0m
[32m2026-01-19 22:08:27[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for PGSUS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:27[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for PGSUS.IS[0m
[32m2026-01-19 22:08:27[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for SAHOL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:27[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for SAHOL.IS[0m
[32m2026-01-19 22:08:27[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for SASA.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:27[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for SASA.IS[0m
[32m2026-01-19 22:08:27[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for SISE.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:27[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for SISE.IS[0m
[32m2026-01-19 22:08:27[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TAVHL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:27[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TAVHL.IS[0m
[32m2026-01-19 22:08:27[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TCELL.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:28[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TCELL.IS[0m
[32m2026-01-19 22:08:28[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for THYAO.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:28[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for THYAO.IS[0m
[32m2026-01-19 22:08:28[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TKFEN.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:28[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TKFEN.IS[0m
[32m2026-01-19 22:08:28[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TOASO.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:28[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TOASO.IS[0m
[32m2026-01-19 22:08:28[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TRALT.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:28[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TRALT.IS[0m
[32m2026-01-19 22:08:28[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for TUPRS.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:28[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for TUPRS.IS[0m
[32m2026-01-19 22:08:28[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m123[0m - [1mFetching real-time data for YKBNK.IS (interval=1d, period=5d)[0m
[32m2026-01-19 22:08:28[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m141[0m - [1mSuccessfully fetched 5 data points for YKBNK.IS[0m
INFO:     127.0.0.1:49634 - "GET /api/screener/top-movers?top_n=5 HTTP/1.1" 200 OK
[32m2026-01-19 22:08:28[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
[32m2026-01-19 22:08:28[0m | [1mINFO    [0m | [36mapp.services.data_fetcher[0m:[36mfetch_realtime_data[0m:[36m119[0m - [1mReturning cached data for TRALT.IS[0m
INFO:     Shutting down
[32m2026-01-19 22:08:29[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mdisconnect[0m:[36m182[0m - [1mWebSocket disconnected: user=None[0m
INFO:     connection closed
[32m2026-01-19 22:08:29[0m | [1mINFO    [0m | [36mapp.services.websocket_manager[0m:[36mdisconnect[0m:[36m182[0m - [1mWebSocket disconnected: user=None[0m
INFO:     connection closed
INFO:     Waiting for application shutdown.
[32m2026-01-19 22:08:29[0m | [1mINFO    [0m | [36mapp.main[0m:[36mshutdown_event[0m:[36m113[0m - [1mTrading Bot API Shutting down...[0m
[32m2026-01-19 22:08:29[0m | [1mINFO    [0m | [36mapp.main[0m:[36mshutdown_event[0m:[36m118[0m - [1mIPO Scheduler stopped[0m
INFO:     Application shutdown complete.
INFO:     Finished server process [133570]
INFO:     Stopping reloader process [131892]
